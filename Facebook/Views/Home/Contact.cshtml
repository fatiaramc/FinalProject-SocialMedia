<html>
<head>
	<link type="text/css" rel="stylesheet" href="~/css/style_dash.css" />

</head>
<body onload="test()">


	<div class="header1">
		<div id="img3" class="header1" style="color: white; text-decoration: none; font-size: 30px; font-weight: 900;">Faceboook</div>
		<div id="searcharea" class="header1"><input placeholder="search here..." type="text" id="searchbox" /></div>
		<div id="profilearea" class="header1"><a href="~/profile.php"><img src="~/prof.png" id="profpic" /></a></div>
		<div id="profilearea1" class="header1"><a href="About">Profile</a></div>
		<div id="profilearea3" class="header1">|</div>
		<div id="profilearea4" class="header1">Home</div>
		<div id="findf" class="header1"><img src="~/frn.png" height="30" /></div>
		<div id="message" class="header1"><img src="~/chat.png" height="30" /></div>
		<div id="notification" class="header1"><img src="~/noti.png" height="30" /></div>
		<div id="profilearea2" class="header1">|</div>
		<div class="dropdown">
			<div id="setting" class="header1">
				<button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">
					<img src="~/set.png" height="30" />
				</button>
				<ul class="dropdown-menu">
					<li data-toggle="modal" data-target="#myModal" onclick="edit()"><a href="#">Editar perfil</a></li>
				</ul>
			</div>
		</div>
		<div id="logout" class="header1">
			<button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">
				<img src="~/lo.png" height="30" />
			</button>
			<ul class="dropdown-menu">
				<li><a href="Index">Cerrar sesion</a></li>
			</ul>
		</div>
	</div>


	<div class="bodyn">
		<div id="side1" class="bodyn"><img src="prof.png" id="profpic" />Profile</div>
		<div id="side2" class="bodyn">edit profile</div>
		<div id="side3" class="bodyn">News feed</div>
		<div id="side4" class="bodyn">Messages</div>
		<div id="side5" class="bodyn">Events</div>
		<div id="side6" class="bodyn">PAGES</div>
		<div id="side7" class="bodyn">Pages feed</div>
		<div id="side8" class="bodyn">Like pages</div>
		<div id="side9" class="bodyn">Create page</div>
		<div id="side10" class="bodyn">Create ad</div>
		<div id="side11" class="bodyn">GROUPS</div>
		<div id="side12" class="bodyn">New groups</div>
		<div id="side13" class="bodyn">Create group</div>
		<div id="side14" class="bodyn">APPS</div>
		<div id="side15" class="bodyn">Games</div>
		<div id="side16" class="bodyn">On this day</div>
		<div id="side17" class="bodyn">Games feed</div>
		<div id="side18" class="bodyn">FRIENDS</div>
		<div id="side19" class="bodyn">Close friends</div>
		<div id="side20" class="bodyn">Family</div>
		<div id="side21" class="bodyn">INTERESTS</div>
		<div id="side22" class="bodyn">Pages and public</div>
		<div id="side23" class="bodyn">EVENTS</div>
		<div id="side24" class="bodyn">Create event</div>
	</div>

	<!--<div class="post">
		<div id="column-1" class="post">update status | add photos/videos | create photo album<hr><br><br><br><br><br><br><hr></div>
		<div id="postpos" class="post"><input type="submit" id="buttonpost" value="post" /></div>
		<div id="postboxpos" class="post"><textarea placeholder="What's in your mind" id="postbox" type="text"></textarea></div>

	</div>-->

	<!--for (var i = 0; i < 1; i++)-->
	@foreach (var post in UsuarioActual.GetUsuarioActual().GetPostsAmigos())
	{
		<!--<div class="row">
			<div class="post1">
				<img src="~/prof.png" id="profpic" /><br><br><img src="" height="411" width="580" /><br><br><p6>Like  Comment  Share</p6><br><hr><p1>Amit Deb</p1><p2> and</p2><p1> 5 others</p1><p2> like this</p2>
				<div id="post2text" class="post2 row"><p3 id="nombre"> </p3><p2> with </p2><p1> Arup Pegu</p1><p2> and</p2><p1> 15 others.</p1><br><p4>4 hrs.</p4></div>
				<div id="commentprof2" class="post2 row"><img src="~/prof.png" id="profpic" /></div>
				<div id="commentboxpos2" class="post2 row"><input type="textarea" placeholder="comment" id="commentbox" /></div>
			</div>
		</div>-->
		var amigo = UsuarioActual.GetUsuarioActual().GetAmigo(post.idPersona);
		
	<div class="row post1" style=" background-color:whitesmoke; margin-left:200pt; margin-top:30pt">
		<div class="row" style="padding-left:10px">
			<div class="col-lg-1"><img src="@amigo.picture" style="border-radius: 50%" id="profpic" /></div>
			<div class="col-lg-10"><p3 id="nombre">@amigo.Nombre @amigo.Apellido</p3><p2> with </p2><p1> Arup Pegu</p1><p2> and</p2><p1> 15 others.</p1><br><p4>4 hrs.</p4></div>
		</div>
		<div class="row" style="padding-left:15px">
			<p>@post.mensaje</p>
			@if (@post.imagen != null)
			{
				<img src="@post.imagen" height="411" width="580" />
			}
		</div>
		<br />
		<div class="row" style="padding-left:15px">
			<p6>Like  Comment  Share</p6>
		</div>
		<hr><p1>Amit Deb</p1><p2> and</p2><p1> 5 others</p1><p2> like this</p2>
		<br /><br />
		<div class="row">
			<div class="col-lg-1" id="commentprof2" style="margin-right:8pt;"><img src="@UsuarioActual.GetUsuarioActual().GetUser().picture" id="profpic" /></div>
			<div class="col-lg-11" id="commentboxpos2"><input type="textarea" placeholder="comment" id="commentbox" /></div>
		</div>
		@for (var j = 0; j < 3; j++)
		{
			<div class="row" style="padding-left:25pt; margin-top:10pt">
				<div class="col-lg-1" id="commentprof2"><img src="~/prof.png" id="profpic" /></div>
				<div class="col-lg-10" id="commentboxpos2">Hola esto es un comment</div>
			</div>
		}
	</div>
		
	}


	<!-- Modal -->
	<div id="myModal" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Editar perfil</h4>
				</div>
				<div class="modal-body" style="height:430px" id="wrapper">
					<div id="div2">
						<p>Recuerda que para ver tus cambios debes refrescar la página.</p>
						<li><input type="text" placeholder="First Name" id="firstname"><input type="text" placeholder="Surname" id="surname"></li>
						<li><input type="text" placeholder="Email address" id="email"></li>
						<li><input type="password" placeholder="New password" id="password"></li>
						<li>
							Descipcion
							<textarea name="paragraph_text" id="desc" cols="41" rows="6"></textarea>
						</li>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal" onclick="edit()">Guardar</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
				</div>
			</div>

		</div>
	</div>
	<div class="header10"></div>


</body>
</html>
<script>
	function test() {

	}
	function edit() {
		console.log('actual', '@UsuarioActual.GetUsuarioActual().GetUser().Nombre');
		//UsuarioActual.GetUsuarioActual().ActualizarUsuario();
		var fn = document.getElementById("firstname");
		fn.placeholder = '@UsuarioActual.GetUsuarioActual().GetUser().Nombre'
		var sn = document.getElementById("surname");
		sn.placeholder = '@UsuarioActual.GetUsuarioActual().GetUser().Apellido'
		var email = document.getElementById("email");
		email.placeholder = '@UsuarioActual.GetUsuarioActual().GetUser().correo_electronico'
		var psw = document.getElementById("password");
		var desc = document.getElementById("desc");
		desc.placeholder = '@UsuarioActual.GetUsuarioActual().GetUser().descripcion'


		var n, a, em, ps, de;

		n = '@UsuarioActual.GetUsuarioActual().GetUser().Nombre';
		a = '@UsuarioActual.GetUsuarioActual().GetUser().Apellido';
		em = '@UsuarioActual.GetUsuarioActual().GetUser().correo_electronico';
		ps = '@UsuarioActual.GetUsuarioActual().GetUser().contraseña';
		de = '@UsuarioActual.GetUsuarioActual().GetUser().descripcion';

		if (fn.value != "") {
			n = fn.value;
		}
		if (sn.value != "") {
			a = sn.value;
		}
		if (email.value != "") { em = email.value }
		if (psw.value != "") {
			ps = psw.value
		}
		if (desc.value != "") { de = desc.value }



		//revisar errores
		var person = {
			Nombre: n,
			Apellido: a,
			correo_electronico: em,
			contraseña: ps,
			fecha_nac: "@UsuarioActual.GetUsuarioActual().GetUser().fecha_nac",
			idPersona: "@UsuarioActual.GetUsuarioActual().GetUser().idPersona",
			descripcion: de,
			picture: "@UsuarioActual.GetUsuarioActual().GetUser().picture",
		};
		console.log('persoooon', person);
		//aqui puedo agregar patron status o memento para verificar si hay datos distintos entrar a base de datos, si no continuar
		$.ajax({
					async: false,
					type: "POST",
					url: '@Url.Action("EditUser", "Home")',
					data: person,
					//data: x.value,
					dataType:"JSON",	
					success: function (response) {
						if (response.success) {

							console.log('success');
							console.log('@UsuarioActual.GetUsuarioActual().GetUser().Nombre');
							//alert('nombre:',sessionStorage.getItem('nombre'));					
							//window.location = response.redirecturl;
					
						}
					}
		});
		fn.value = "";
		sn.value = "";
		email.value = "";
		psw.value = "";
		desc.value = "";
	}


</script>